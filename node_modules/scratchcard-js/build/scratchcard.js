(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./ScratchCard.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!****************************************************************!*\
  !*** ../node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n//# sourceURL=webpack:///../node_modules/@babel/runtime/helpers/classCallCheck.js?");

/***/ }),

/***/ "../node_modules/@babel/runtime/helpers/createClass.js":
/*!*************************************************************!*\
  !*** ../node_modules/@babel/runtime/helpers/createClass.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n\n//# sourceURL=webpack:///../node_modules/@babel/runtime/helpers/createClass.js?");

/***/ }),

/***/ "./Brush.ts":
/*!******************!*\
  !*** ./Brush.ts ***!
  \******************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Brush; });\n!(function webpackMissingModule() { var e = new Error(\"Cannot find module 'core-js/modules/es6.array.fill'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nvar Brush =\n/*#__PURE__*/\nfunction () {\n  function Brush(ctx, mouseX, mouseY) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Brush);\n\n    this.ctx = ctx;\n    this.mouseX = mouseX;\n    this.mouseY = mouseY;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Brush, [{\n    key: \"updateMousePosition\",\n    value: function updateMousePosition(x, y) {\n      this.mouseX = x;\n      this.mouseY = y;\n    }\n  }, {\n    key: \"circle\",\n    value: function circle(r) {\n      this.ctx.beginPath();\n      this.ctx.arc(this.mouseX + r, this.mouseY + r, r, 0, Math.PI * 2, false);\n      this.ctx.fillStyle = '#000000';\n      this.ctx.fill();\n      this.ctx.closePath();\n    }\n    /**\n     * For spray get point position in the area to clear the canvas\n     * @param {number} r\n     * @returns {number[]}\n     */\n\n  }, {\n    key: \"clearPoint\",\n    value: function clearPoint(r) {\n      var radius = r;\n      var x = Math.random() * 2 * radius - radius;\n      var ylim = Math.sqrt(radius * radius - x * x);\n      var y = Math.random() * 2 * ylim - ylim;\n      x += radius;\n      y += radius;\n      x += this.mouseX;\n      y += this.mouseY;\n      return [x, y];\n    }\n    /**\n     * Create a set of points allocated in area,\n     * @param {number} area\n     * @param {number} dropsSize\n     * @param {number} dropsCount\n     */\n\n  }, {\n    key: \"spray\",\n    value: function spray(area, dropsSize, dropsCount) {\n      var i = 0;\n\n      for (i; i < dropsCount; i++) {\n        var points = this.clearPoint(area / 2);\n        this.ctx.beginPath();\n        this.ctx.arc(points[0] + area / 2, points[1] + area / 2, dropsSize / 2, 0, Math.PI * 2, false);\n        this.ctx.fillStyle = '#000000';\n        this.ctx.fill();\n        this.ctx.closePath();\n      }\n    }\n    /**\n     * Draw the brush image on canvas\n     * @param {HTMLImageElement} img\n     */\n\n  }, {\n    key: \"brush\",\n    value: function brush(img) {\n      if (img === null) {\n        var error = new Error('argument img is not a node IMG');\n        console.log(error.message);\n        return;\n      }\n\n      var angle = Math.atan2(this.mouseY, this.mouseX);\n      this.ctx.save();\n      this.ctx.translate(this.mouseX, this.mouseY);\n      this.ctx.rotate(angle);\n      this.ctx.drawImage(img, -(img.width / 2), -(img.height / 2));\n    }\n  }]);\n\n  return Brush;\n}();\n\n\n\n//# sourceURL=webpack:///./Brush.ts?");

/***/ }),

/***/ "./ScratchCard.ts":
/*!************************!*\
  !*** ./ScratchCard.ts ***!
  \************************/
/*! exports provided: ScratchCard, SCRATCH_TYPE */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScratchCard\", function() { return ScratchCard; });\n!(function webpackMissingModule() { var e = new Error(\"Cannot find module 'core-js/modules/es6.promise'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n!(function webpackMissingModule() { var e = new Error(\"Cannot find module 'core-js/modules/es6.object.assign'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"../node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"../node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ScratchCardConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ScratchCardConfig */ \"./ScratchCardConfig.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SCRATCH_TYPE\", function() { return _ScratchCardConfig__WEBPACK_IMPORTED_MODULE_3__[\"SCRATCH_TYPE\"]; });\n\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"./utils.ts\");\n/* harmony import */ var _Brush__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Brush */ \"./Brush.ts\");\n\n\n\n\n\n\n\n\nvar ScratchCard =\n/*#__PURE__*/\nfunction () {\n  function ScratchCard(selector, config) {\n    var _this = this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, ScratchCard);\n\n    var self = this;\n    var defaults = {\n      scratchType: _ScratchCardConfig__WEBPACK_IMPORTED_MODULE_3__[\"SCRATCH_TYPE\"].SPRAY,\n      containerWidth: 100,\n      containerHeight: 100,\n      percentToFinish: 50,\n      nPoints: 100,\n      pointSize: [10, 10],\n      callback: function callback() {\n        alert('done.');\n      },\n      brushSrc: '',\n      imageForwardSrc: './images/scratchcard.png',\n      imageBackgroundSrc: './images/scratchcard-background.svg',\n      htmlBackground: '',\n      clearZoneRadius: 0,\n      enabledPercentUpdate: true\n    };\n    this.config = Object.assign({}, defaults, config);\n    this.scratchType = this.config.scratchType;\n    this.container = document.querySelector(selector);\n    this.position = [0, 0]; // init position\n\n    this.readyToClear = false;\n    this.percent = 0;\n    this.callbackDone = false; // Create and add the canvas\n\n    this.generateCanvas();\n    this.ctx = this.canvas.getContext('2d'); // Init the brush instance\n\n    this.brush = new _Brush__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.ctx, this.position[0], this.position[1]); // Init the brush if  necessary\n\n    if (this.config.scratchType === _ScratchCardConfig__WEBPACK_IMPORTED_MODULE_3__[\"SCRATCH_TYPE\"].BRUSH) {\n      Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"loadImage\"])(this.config.brushSrc).then(function (image) {\n        _this.brushImage = image;\n      });\n    }\n    /*---- Scratching method , call in throttle event ------------------------------------*/\n\n\n    var scratching = Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"throttle\"])(function (event) {\n      event.preventDefault();\n      self.dispatchEvent('scratch', 'move');\n      self.position = self.mousePosition(event);\n      self.brush.updateMousePosition(self.position[0], self.position[1]);\n      self.scratch(); // calculate the percent of area scratched.\n\n      if (_this.config.enabledPercentUpdate) {\n        self.percent = self.updatePercent();\n      }\n    }, 16);\n    /*---- Events -----------------------------------------------------------------------*/\n\n    this.canvas.addEventListener('mousedown', function (event) {\n      event.preventDefault();\n\n      self._setScratchPosition();\n\n      self.canvas.addEventListener('mousemove', scratching);\n      document.body.addEventListener('mouseup', function _func() {\n        self.canvas.removeEventListener('mousemove', scratching);\n        self.finish(); // clear and callback\n\n        this.removeEventListener('mouseup', _func);\n      });\n    }); // Mobile events\n\n    this.canvas.addEventListener('touchstart', function (event) {\n      event.preventDefault();\n\n      self._setScratchPosition();\n\n      self.canvas.addEventListener('touchmove', scratching);\n      document.body.addEventListener('touchend', function _func() {\n        self.canvas.removeEventListener('touchmove', scratching);\n        self.finish(); // clear and callback\n\n        this.removeEventListener('touchend', _func);\n      });\n    }); // Update canvas positions when the window has been resized\n\n    window.addEventListener('resize', Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"throttle\"])(function () {\n      _this._setScratchPosition();\n    }, 100)); // Update canvas positions when the window has been scrolled\n\n    window.addEventListener('scroll', Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"throttle\"])(function () {\n      _this._setScratchPosition();\n    }, 16));\n  }\n  /**\n   * Get percent of scratchCard\n   * @returns {number}\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ScratchCard, [{\n    key: \"getPercent\",\n    value: function getPercent() {\n      return this.percent;\n    }\n    /**\n     * Return the top and left position\n     * @private\n     */\n\n  }, {\n    key: \"_setScratchPosition\",\n    value: function _setScratchPosition() {\n      this.zone = Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"getOffset\"])(this.canvas);\n    }\n  }, {\n    key: \"finish\",\n    value: function finish() {\n      // Exec the callback once\n      if (!this.callbackDone && this.percent > this.config.percentToFinish) {\n        this.clear();\n        this.canvas.style.pointerEvents = 'none';\n\n        if (this.config.callback !== undefined) {\n          this.callbackDone = true;\n          this.config.callback();\n        }\n      }\n    }\n    /**\n     * Distpach event\n     * @param {string} phase\n     * @param {string} type\n     */\n\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(phase, type) {\n      Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"dispatchCustomEvent\"])(this.canvas, \"\".concat(phase, \".\").concat(type), {});\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"loadImage\"])(_this2.config.imageForwardSrc).then(function (img) {\n          _this2.scratchImage = img;\n\n          _this2.ctx.drawImage(_this2.scratchImage, 0, 0, _this2.canvas.width, _this2.canvas.height);\n\n          _this2.setBackground(); // Resolve the promise init\n\n\n          resolve();\n        }, function (event) {\n          // Reject init\n          reject(event);\n          return new TypeError(\"\".concat(_this2.config.imageForwardSrc, \" is not loaded.\"));\n        });\n      });\n    }\n  }, {\n    key: \"generateCanvas\",\n    value: function generateCanvas() {\n      this.canvas = document.createElement('canvas');\n      this.canvas.classList.add('sc__canvas'); // Add canvas into container\n\n      this.canvas.width = this.config.containerWidth;\n      this.canvas.height = this.config.containerHeight;\n      this.container.appendChild(this.canvas);\n    }\n  }, {\n    key: \"setBackground\",\n    value: function setBackground() {\n      var _this3 = this;\n\n      if (this.config.htmlBackground.length !== 0) {\n        Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"injectHTML\"])(this.config.htmlBackground, this.container);\n      } else {\n        var image = document.createElement('img');\n        Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"loadImage\"])(this.config.imageBackgroundSrc).then(function (img) {\n          image.src = img.src;\n\n          _this3.container.insertBefore(image, _this3.canvas);\n        }, function (error) {\n          // Stop all script here\n          console.log(error.message);\n        });\n      }\n    }\n  }, {\n    key: \"mousePosition\",\n    value: function mousePosition(event) {\n      var posX;\n      var posY;\n\n      switch (event.type) {\n        case 'touchmove':\n          posX = event.touches[0].clientX - this.config.clearZoneRadius - this.zone.left;\n          posY = event.touches[0].clientY - this.config.clearZoneRadius - this.zone.top;\n          break;\n\n        case 'mousemove':\n          posX = event.clientX - this.config.clearZoneRadius - this.zone.left;\n          posY = event.clientY - this.config.clearZoneRadius - this.zone.top;\n          break;\n      }\n\n      return [posX, posY];\n    }\n  }, {\n    key: \"scratch\",\n    value: function scratch() {\n      var x = this.position[0];\n      var y = this.position[1];\n      var i = 0;\n      this.ctx.globalCompositeOperation = 'destination-out';\n      this.ctx.save(); // Choose the good method to 'paint'\n\n      switch (this.config.scratchType) {\n        case _ScratchCardConfig__WEBPACK_IMPORTED_MODULE_3__[\"SCRATCH_TYPE\"].BRUSH:\n          this.brush.brush(this.brushImage);\n          break;\n\n        case _ScratchCardConfig__WEBPACK_IMPORTED_MODULE_3__[\"SCRATCH_TYPE\"].CIRCLE:\n          this.brush.circle(this.config.clearZoneRadius);\n          break;\n\n        case _ScratchCardConfig__WEBPACK_IMPORTED_MODULE_3__[\"SCRATCH_TYPE\"].SPRAY:\n          this.brush.spray(this.config.clearZoneRadius, this.config.pointSize, this.config.nPoints);\n          break;\n      }\n\n      this.ctx.restore();\n    }\n    /*\n    * Image data :\n    * Red: image.data[0]\n    * Green: image.data[1]\n    * Blue: image.data[2]\n    * Alpha: image.data[3]\n    * */\n\n  }, {\n    key: \"updatePercent\",\n    value: function updatePercent() {\n      var counter = 0; // number of pixels cleared\n\n      var imageData = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height);\n      var imageDataLength = imageData.data.length; // loop data image drop every 4 items [r, g, b, a, ...]\n\n      for (var i = 0; i < imageDataLength; i += 4) {\n        // Increment the counter only if the pixel in completely clear\n        if (imageData.data[i] === 0 && imageData.data[i + 1] === 0 && imageData.data[i + 2] === 0 && imageData.data[i + 3] === 0) {\n          counter++;\n        }\n      }\n\n      return counter >= 1 ? counter / (this.canvas.width * this.canvas.height) * 100 : 0;\n    }\n    /**\n     * Just clear the canvas\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n  }]);\n\n  return ScratchCard;\n}(); // Expose directly in window, any ideas to do this better.\n\n\nwindow.ScratchCard = ScratchCard;\nwindow.SCRATCH_TYPE = _ScratchCardConfig__WEBPACK_IMPORTED_MODULE_3__[\"SCRATCH_TYPE\"];\n\n\n//# sourceURL=webpack:///./ScratchCard.ts?");

/***/ }),

/***/ "./ScratchCardConfig.ts":
/*!******************************!*\
  !*** ./ScratchCardConfig.ts ***!
  \******************************/
/*! exports provided: SCRATCH_TYPE */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SCRATCH_TYPE\", function() { return SCRATCH_TYPE; });\nvar SCRATCH_TYPE;\n\n(function (SCRATCH_TYPE) {\n  SCRATCH_TYPE[SCRATCH_TYPE[\"BRUSH\"] = 0] = \"BRUSH\";\n  SCRATCH_TYPE[SCRATCH_TYPE[\"SPRAY\"] = 1] = \"SPRAY\";\n  SCRATCH_TYPE[SCRATCH_TYPE[\"CIRCLE\"] = 2] = \"CIRCLE\";\n})(SCRATCH_TYPE || (SCRATCH_TYPE = {}));\n\n//# sourceURL=webpack:///./ScratchCardConfig.ts?");

/***/ }),

/***/ "./utils.ts":
/*!******************!*\
  !*** ./utils.ts ***!
  \******************/
/*! exports provided: randomPoint, loadImage, throttle, dispatchCustomEvent, injectHTML, getOffset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"randomPoint\", function() { return randomPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadImage\", function() { return loadImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"throttle\", function() { return throttle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dispatchCustomEvent\", function() { return dispatchCustomEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"injectHTML\", function() { return injectHTML; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOffset\", function() { return getOffset; });\n!(function webpackMissingModule() { var e = new Error(\"Cannot find module 'core-js/modules/es6.promise'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\n\n/**\n * Return a random number in range\n * @param min {Number}\n * @param max {Number}\n */\nfunction randomPoint(min, max) {\n  var random = Math.abs(Math.random() * (max - min) + min);\n  return parseInt(random.toFixed(0), 10);\n}\n/**\n * Make a promise to load image\n * @param src {String}\n */\n\nfunction loadImage(src) {\n  return new Promise(function (resolve, reject) {\n    var image = new Image();\n    image.crossOrigin = 'Anonymous'; // Work only if the server response headers contains [Access-Control-Allow-Origin: *]\n\n    image.onload = function () {\n      resolve(image);\n    };\n\n    image.src = src;\n\n    image.onerror = function (event) {\n      var error = new Error(\"Image \".concat(src, \" is not loaded.\"));\n      reject(error);\n    };\n  });\n}\nfunction throttle(callback, delay) {\n  var last;\n  var timer;\n  return function () {\n    var context = this;\n    var now = +new Date();\n    var args = arguments;\n\n    if (last && now < last + delay) {\n      // le délai n'est pas écoulé on reset le timer\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        last = now;\n        callback.apply(context, args);\n      }, delay);\n    } else {\n      last = now;\n      callback.apply(context, args);\n    }\n  };\n}\n/*---- Events -----------------------------------------------------------------------*/\n// polyfill source: https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n\n(function () {\n  if (typeof window.CustomEvent === \"function\") return false;\n\n  function CustomEvent(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n  window.CustomEvent = CustomEvent;\n})();\n/**\n *\n * @param {HTMLElement} target\n * @param {string} type\n * @param detail\n */\n\n\nfunction dispatchCustomEvent(target, type, detail) {\n  var customEvent = new CustomEvent(type, {\n    bubbles: true,\n    cancelable: true,\n    detail: detail\n  });\n  target.dispatchEvent(customEvent);\n}\n/**\n * Inject html behind the canvas\n * @param {string} html\n * @param {HTMLElement} target\n */\n\nfunction injectHTML(html, target) {\n  var parser = new DOMParser();\n  var wrapper = document.createElement('div');\n  wrapper.classList.add('sc__inner');\n  var content = parser.parseFromString(html, 'text/html'); // > IE 11\n\n  wrapper.innerHTML = content.body.innerHTML;\n  target.insertBefore(wrapper, target.firstElementChild);\n}\n/**\n * Get the real offset\n * @param element\n * @returns {Object} offset\n */\n\nfunction getOffset(element) {\n  var offset = {\n    left: 0,\n    top: 0\n  };\n  var clientRect = element.getBoundingClientRect();\n\n  while (element) {\n    offset.top += element.offsetTop;\n    offset.left += element.offsetLeft;\n    element = element.offsetParent;\n  } // Calculate the delta between offset values and clientRect values\n\n\n  var deltaLeft = offset.left - clientRect.left;\n  var deltaTop = offset.top - clientRect.top;\n  return {\n    left: deltaLeft < 0 ? offset.left + Math.abs(deltaLeft) : offset.left - Math.abs(deltaLeft),\n    top: deltaTop < 0 ? offset.top + Math.abs(deltaTop) : offset.top - Math.abs(deltaTop)\n  };\n}\n\n//# sourceURL=webpack:///./utils.ts?");

/***/ })

/******/ });
});